(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[787],{1902:function(a,e,t){"use strict";t.r(e);var n,s=t(29),l=t(5627),r=t.n(l),o=t(7794),c=t.n(o),d=t(9008),m=t.n(d);t(7294),t(5152);var v=t(1163),u=t(7994),w=t.n(u),y=t(5893);function E(a){var e=(0,v.useRouter)(),t=a.params,n=e.query.level;console.log("level=>>",n,t);var s=a.tdk;return window.pageLevel=n,window.pageLevel,(0,y.jsxs)("div",{className:r().dynamic([["1960755096",[w()]]])+" container mapContainer",children:[(0,y.jsxs)(m(),{children:[(0,y.jsx)("title",{className:r().dynamic([["1960755096",[w()]]]),children:s}),(0,y.jsx)("link",{rel:"icon",href:"/favicon.ico",className:r().dynamic([["1960755096",[w()]]])})]}),(0,y.jsxs)("div",{className:r().dynamic([["1960755096",[w()]]])+" container",children:[(0,y.jsx)("div",{className:r().dynamic([["1960755096",[w()]]])+" game-tips"}),(0,y.jsxs)("div",{id:"canvasDiv",className:r().dynamic([["1960755096",[w()]]])+" player1 start-game",children:[(0,y.jsx)("canvas",{id:"wallCanvas",className:r().dynamic([["1960755096",[w()]]])}),(0,y.jsx)("canvas",{id:"tankCanvas",className:r().dynamic([["1960755096",[w()]]])}),(0,y.jsx)("div",{className:r().dynamic([["1960755096",[w()]]])+" game-canvas-border"}),(0,y.jsx)("canvas",{id:"grassCanvas",className:r().dynamic([["1960755096",[w()]]])}),(0,y.jsx)("canvas",{id:"overCanvas",className:r().dynamic([["1960755096",[w()]]])}),(0,y.jsx)("canvas",{id:"stageCanvas",style:{display:"none"},className:r().dynamic([["1960755096",[w()]]])}),(0,y.jsxs)("div",{className:r().dynamic([["1960755096",[w()]]])+" startCanvas first-start",children:[(0,y.jsx)("div",{className:r().dynamic([["1960755096",[w()]]])+" bg-content"}),(0,y.jsx)("div",{className:r().dynamic([["1960755096",[w()]]])+" stage-box",children:(0,y.jsxs)("p",{className:r().dynamic([["1960755096",[w()]]])+" stage-box-desc",children:["STAGE ",(0,y.jsx)("span",{className:r().dynamic([["1960755096",[w()]]])})]})}),(0,y.jsx)("div",{className:r().dynamic([["1960755096",[w()]]])+" game-logo"}),(0,y.jsx)("div",{className:r().dynamic([["1960755096",[w()]]])+" email-content",children:(0,y.jsxs)("div",{className:r().dynamic([["1960755096",[w()]]])+" email-input-box",children:[(0,y.jsx)("label",{htmlFor:"EmailInput",className:r().dynamic([["1960755096",[w()]]])+" email-input-box-label"}),(0,y.jsx)("input",{id:"EmailInput",placeholder:"YOUR EMAIL",className:r().dynamic([["1960755096",[w()]]])+" email-input"})]})}),(0,y.jsxs)("div",{className:r().dynamic([["1960755096",[w()]]])+" pass-content",children:[(0,y.jsx)("div",{className:r().dynamic([["1960755096",[w()]]])+" text-info",children:(0,y.jsxs)("div",{id:"c",className:r().dynamic([["1960755096",[w()]]])+" text pass-email-input",children:[(0,y.jsxs)("i",{className:r().dynamic([["1960755096",[w()]]])+" text",children:[(0,y.jsx)("i",{className:r().dynamic([["1960755096",[w()]]]),children:"PASS"}),(0,y.jsx)("i",{className:r().dynamic([["1960755096",[w()]]]),children:"TOKEN"}),":"]}),(0,y.jsx)("span",{className:r().dynamic([["1960755096",[w()]]])+" info"})]})}),(0,y.jsx)("div",{className:r().dynamic([["1960755096",[w()]]])+" text-info",children:(0,y.jsxs)("div",{className:r().dynamic([["1960755096",[w()]]])+" text",children:[(0,y.jsx)("i",{className:r().dynamic([["1960755096",[w()]]]),children:"CLAIM"}),(0,y.jsx)("i",{className:r().dynamic([["1960755096",[w()]]]),children:"YOUR"}),(0,y.jsx)("i",{className:r().dynamic([["1960755096",[w()]]]),children:"TOKEN"}),(0,y.jsx)("i",{className:r().dynamic([["1960755096",[w()]]]),children:"AT"}),(0,y.jsx)("span",{className:r().dynamic([["1960755096",[w()]]]),children:"ORDZ.GAMES"})]})}),(0,y.jsxs)("div",{onClick:"copyPW()",className:r().dynamic([["1960755096",[w()]]])+" passLevel-button passLevel-content",children:[(0,y.jsx)("div",{className:r().dynamic([["1960755096",[w()]]])+" button-bg start-button-bg-1"}),(0,y.jsx)("div",{className:r().dynamic([["1960755096",[w()]]])+" button-bg start-button-bg-2"})]})]}),(0,y.jsxs)("div",{className:r().dynamic([["1960755096",[w()]]])+" start-button",children:[(0,y.jsx)("div",{className:r().dynamic([["1960755096",[w()]]])+" button-bg start-button-bg-1"}),(0,y.jsx)("div",{className:r().dynamic([["1960755096",[w()]]])+" button-bg start-button-bg-2"})]}),(0,y.jsxs)("div",{className:r().dynamic([["1960755096",[w()]]])+" gameOver-button gameOver-content",children:[(0,y.jsx)("div",{className:r().dynamic([["1960755096",[w()]]])+" button-bg start-button-bg-1"}),(0,y.jsx)("div",{className:r().dynamic([["1960755096",[w()]]])+" button-bg start-button-bg-2"})]})]})]})]}),(0,y.jsx)("input",{id:"copyInput",style:{width:"1px",height:"1px"},className:r().dynamic([["1960755096",[w()]]])}),(0,y.jsx)(r(),{id:"1960755096",dynamic:[w()],children:[]})]})}window.onload=function(){t(2790),t(1998).default(),t(4953).default(),t(5646).default();var a=location.href.split("tank/");console.log("urlLevel=>>>",window.pageLevel,a[1]),t(5672)("./level".concat(window.pageLevel||a[1]||1,".js")).default(),t(1174).default(),t(7259).default(),t(9464).default(),t(4723).default(),t(6169).default(),t(5770).default(),t(8733).default(),t(1794).default(),t(2192).default(),t(9831).default();var e=localStorage.getItem("userEmail"),n=document.querySelector(".email-input");console.log(n),e&&n&&(n.value=e),gameState=GAME_STATE_INIT},E.getInitialProps=(n=(0,s.Z)(c().mark(function a(e){var t;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.query,e.req,(t=e.res).setHeader("Access-Control-Allow-Origin","*"),t.setHeader("Access-Control-Allow-Methods","POST,OPTIONS,GET"),t.setHeader("Access-Control-Allow-Headers","*"),a.abrupt("return",{tdk:1111});case 5:case"end":return a.stop()}},a)})),function(a){return n.apply(this,arguments)}),e.default=E},9831:function(a,e,t){"use strict";t.r(e),e.default=function(){function a(){menu=new Menu(ctx),stage=new Stage(ctx,level),map=new Map(wallCtx,grassCtx),(player1=new PlayTank(tankCtx)).x=129+map.offsetX,player1.y=385+map.offsetY,(player2=new PlayTank(tankCtx)).offsetX=128,player2.x=256+map.offsetX,player2.y=385+map.offsetY,appearEnemy=0,enemyArray=[],bulletArray=[],keys=[],crackArray=[],isGameOver=!1,overX=176,overY=384,overCtx.clearRect(0,0,SCREEN_WIDTH,SCREEN_HEIGHT),emenyStopTime=0,homeProtectedTime=-1,propTime=1e3}function e(){switch(gameState){case GAME_STATE_MENU:menu.draw();break;case GAME_STATE_INIT:stage.draw(),!0==stage.isReady&&(gameState=GAME_STATE_START);break;case GAME_STATE_START:(isGameOver||player1.lives<=0&&player2.lives<=0)&&(gameState=GAME_STATE_OVER,map.homeHit()),appearEnemy==maxEnemy&&0==enemyArray.length&&(gameState=GAME_STATE_WIN);break;case GAME_STATE_WIN:t();break;case GAME_STATE_OVER:overCtx.clearRect(0,0,SCREEN_WIDTH,SCREEN_HEIGHT),overCtx.drawImage(RESOURCE_IMAGE,POS.over[0],POS.over[1],64,32,overX+map.offsetX,overY+map.offsetY,64,32),console.log("gameOver",!0,(overY-=2)<=parseInt(map.mapHeight/2)),overY<=parseInt(map.mapHeight/2)&&(a(),1==menu.playNum&&(player2.lives=0),gameState=GAME_STATE_MENU,window.showDomGameState="gameOver")}gameState===GAME_STATE_MENU?($(".startCanvas").removeClass("start-game").addClass("end-game"),$(".game-tips").removeClass("start-game").addClass("end-game")):($(".startCanvas").removeClass("end-game").addClass("start-game"),$(".game-tips").removeClass("end-game").addClass("start-game")),window.showDomGameState&&($(".startCanvas").removeClass("first-start").addClass(showDomGameState||""),"gameOver"===showDomGameState||showDomGameState)}function t(){a(),1==menu.playNum&&(player2.lives=0),gameState=GAME_STATE_MENU,window.showDomGameState="passLevel"}window.ctx="",window.wallCtx="",window.grassCtx="",window.tankCtx="",window.overCtx="",window.menu=null,window.stage=null,window.map=null,window.player1=null,window.player2=null,window.prop=null,window.enemyArray=[],window.bulletArray=[],window.keys=[],window.crackArray=[],window.gameState=GAME_STATE_MENU,window.level=window.pageLevel?Number(window.pageLevel):1,window.maxEnemy=20,window.maxAppearEnemy=5,window.appearEnemy=0,window.mainframe=0,window.isGameOver=!1,window.overX=176,window.overY=384,window.emenyStopTime=0,window.homeProtectedTime=-1,window.propTime=300,$(document).ready(function(){window.canvas=$("#stageCanvas"),ctx=canvas[0].getContext("2d"),canvas.attr({width:SCREEN_WIDTH}),canvas.attr({height:SCREEN_HEIGHT}),wallCtx=$("#wallCanvas")[0].getContext("2d"),grassCtx=$("#grassCanvas")[0].getContext("2d"),$("#wallCanvas").attr({width:SCREEN_WIDTH}),$("#wallCanvas").attr({height:SCREEN_HEIGHT}),$("#grassCanvas").attr({width:SCREEN_WIDTH}),$("#grassCanvas").attr({height:SCREEN_HEIGHT}),tankCtx=$("#tankCanvas")[0].getContext("2d"),$("#tankCanvas").attr({width:SCREEN_WIDTH}),$("#tankCanvas").attr({height:SCREEN_HEIGHT}),overCtx=$("#overCanvas")[0].getContext("2d"),$("#overCanvas").attr({width:SCREEN_WIDTH}),$("#overCanvas").attr({height:SCREEN_HEIGHT}),$("#canvasDiv").css({width:SCREEN_WIDTH}),$("#canvasDiv").css({height:SCREEN_HEIGHT}),$("#canvasDiv").css({"background-color":"#000000"}),$(".startCanvas").css({"background-image":"url(".concat(MENU_IMAGE_URL,")")}),$(".stage-box-tank-icon").css({"background-image":"url(".concat(RESOURCE_IMAGE_URL,")")}),$(".game-over-image").css({"background-image":"url(".concat(RESOURCE_IMAGE_URL,")")}),a(),setInterval(e,20)}),setInterval(function(){},150),window.initObject=a,$(document).keydown(function(e){switch(gameState){case GAME_STATE_MENU:if(e.keyCode==keyboard.ENTER){var n=document.querySelector(".email-input"),s=n?n.value:"";if(!s)return;localStorage.setItem("a",s),gameState=GAME_STATE_INIT,1==menu.playNum&&(player2.lives=0)}break;case GAME_STATE_START:keys.contain(e.keyCode)||keys.push(e.keyCode),e.keyCode==keyboard.SPACE&&player1.lives>0?player1.shoot(BULLET_TYPE_PLAYER):e.keyCode==keyboard.ENTER&&player2.lives>0?player2.shoot(BULLET_TYPE_PLAYER2):e.keyCode==keyboard.N?t():e.keyCode==keyboard.P&&(0==--level&&(level=21),a(),1==menu.playNum&&(player2.lives=0),stage.init(level),gameState=GAME_STATE_INIT)}}),$(document).keyup(function(a){keys.remove(a.keyCode)}),window.initMap=function(){map.setMapLevel(level),map.draw(),drawLives()},window.drawLives=function(){map.drawLives(player1.lives,1),map.drawLives(player2.lives,2)},window.drawBullet=function(){if(null!=bulletArray&&bulletArray.length>0)for(window.i=0;i<bulletArray.length;i++)window.bulletObj=bulletArray[i],bulletObj.isDestroyed?(bulletObj.owner.isShooting=!1,bulletArray.removeByIndex(i),i--):bulletObj.draw()}}},8292:function(a,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/show-map/[level]",function(){return t(1902)}])},7994:function(){},29:function(a,e,t){"use strict";function n(a,e,t,n,s,l,r){try{var o=a[l](r),c=o.value}catch(a){t(a);return}o.done?e(c):Promise.resolve(c).then(n,s)}function s(a){return function(){var e=this,t=arguments;return new Promise(function(s,l){var r=a.apply(e,t);function o(a){n(r,s,l,o,c,"next",a)}function c(a){n(r,s,l,o,c,"throw",a)}o(void 0)})}}t.d(e,{Z:function(){return s}})}},function(a){a.O(0,[774,31,347,672,888,179],function(){return a(a.s=8292)}),_N_E=a.O()}]);